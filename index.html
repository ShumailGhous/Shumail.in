<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Langton's Ant Simulation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      background-color: #f0f0f0;
    }
    h1 {
      margin-top: 50px;
      font-size: 2em;
    }
    #grid {
      display: grid;
      grid-template-columns: repeat(101, 10px); /* Adjusted for a bigger grid */
      grid-template-rows: repeat(101, 10px); /* Adjusted for a bigger grid */
      margin-top: 20px;
      justify-content: center;
    }
    .cell {
      width: 10px;
      height: 10px;
      background-color: white;
      border: 1px solid #ddd;
    }
    .ant {
      width: 10px;
      height: 10px;
      background-color: red; /* Red color for ants */
      border-radius: 50%;
    }
    .control-panel {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Langton's Ant Simulation</h1>
  <div id="grid"></div>

  <div class="control-panel">
    <button onclick="startSimulation()">Start Simulation</button>
    <button onclick="addAnt()">Add Ant</button>
    <button onclick="clearGrid()">Clear Grid</button>
    <label for="speed">Simulation Speed:</label>
    <input type="number" id="speed" value="100" min="1" max="500" />
  </div>

  <script>
    const gridSize = 101; // Larger grid size
    const grid = [];
    let ants = [];
    let interval;
    
    function createGrid() {
      const gridContainer = document.getElementById('grid');
      gridContainer.innerHTML = '';

      for (let i = 0; i < gridSize; i++) {
        const row = [];
        for (let j = 0; j < gridSize; j++) {
          const cell = document.createElement('div');
          cell.classList.add('cell');
          gridContainer.appendChild(cell);
          row.push(cell);
        }
        grid.push(row);
      }
    }

    function startSimulation() {
      if (interval) clearInterval(interval);
      
      interval = setInterval(() => {
        ants.forEach(ant => {
          // Current position of the ant
          const x = ant.x;
          const y = ant.y;

          // Check current color of the cell and change accordingly
          const currentCell = grid[x][y];
          if (currentCell.style.backgroundColor === 'white') {
            currentCell.style.backgroundColor = 'black';
            ant.direction = (ant.direction + 1) % 4; // Turn right
          } else {
            currentCell.style.backgroundColor = 'white';
            ant.direction = (ant.direction + 3) % 4; // Turn left
          }

          // Move ant
          if (ant.direction === 0) ant.y--; // Up
          if (ant.direction === 1) ant.x++; // Right
          if (ant.direction === 2) ant.y++; // Down
          if (ant.direction === 3) ant.x--; // Left

          // Wrap around the grid
          if (ant.x < 0) ant.x = gridSize - 1;
          if (ant.y < 0) ant.y = gridSize - 1;
          if (ant.x >= gridSize) ant.x = 0;
          if (ant.y >= gridSize) ant.y = 0;

          // Update ant's position
          const antCell = grid[ant.x][ant.y];
          antCell.classList.add('ant');
        });
      }, 1000 / document.getElementById('speed').value);
    }

    function addAnt() {
      const x = Math.floor(Math.random() * gridSize);
      const y = Math.floor(Math.random() * gridSize);
      const direction = Math.floor(Math.random() * 4); // Random direction
      ants.push({ x, y, direction });

      // Mark the starting position of the ant
      const antCell = grid[x][y];
      antCell.classList.add('ant');
    }

    function clearGrid() {
      grid.forEach(row => row.forEach(cell => {
        cell.style.backgroundColor = 'white';
        cell.classList.remove('ant');
      }));
      ants = [];
    }

    createGrid(); // Initialize the grid on page load
  </script>
</body>
</html>
